"use strict";(self.webpackChunkapp_tools=self.webpackChunkapp_tools||[]).push([[933],{4933:function(e,n,t){t.r(n),t.d(n,{default:function(){return X}});var o=t(2791);var i=function(e){var n,t="pending",o=e.then((function(e){t="success",n=e}),(function(e){t="error",n=e}));return{read:function(){switch(t){case"pending":throw o;case"error":throw n;default:return n}}}};var a=function(e){var n=fetch(e).then((function(e){return e.json()}));return i(n)},r=t(1889),s=t(8870),l=t(533),c=t(7924),u=t(7210),d=t(9434),h=t(2181),v=t(3329),p=function(e){var n=e.label,t=e.type,o=e.onChange,i=(0,d.v9)((0,h.oZ)(t));return(0,v.jsx)(u.Z,{label:n,type:"date",value:i,onChange:o,size:"small",sx:{width:"100%"},inputProps:{style:{paddingLeft:5}},InputLabelProps:{shrink:!0}})},f=t(1413),x=t(3433),g=t(4084),Z=t(2112),j=a("https://api.exchangerate.host/sources"),m=a("https://api.exchangerate.host/cryptocurrencies"),y=(0,g.D)({matchFrom:"any",stringify:function(e){return"".concat(null===e||void 0===e?void 0:e.source," ").concat(null===e||void 0===e?void 0:e.description)}}),b=function(e,n){return null===n||(null===e||void 0===e?void 0:e.source)===(null===n||void 0===n?void 0:n.source)},w=function(e){var n=e.onChange,t=function(){var e=j.read(),n=m.read(),t=Object.values(e.sources).map((function(e){return{group:"sources",source:e.source,description:e.name,available_from_date:e.available_from_date}})),o=Object.values(n.cryptocurrencies).map((function(e){var n=e.symbol,t=e.name;return{group:"cryptocurrencies",source:n.toLowerCase(),description:t}}));return[].concat((0,x.Z)(t),(0,x.Z)(o))}(),o=(0,d.v9)((0,h.oZ)(h.Hx));return(0,v.jsx)(Z.Z,{autoHighlight:!0,onChange:n,size:"small",style:{width:"100%"},options:t,value:o,isOptionEqualToValue:b,groupBy:function(e){return null===e||void 0===e?void 0:e.group},getOptionLabel:function(e){return(null===e||void 0===e?void 0:e.source)||""},filterOptions:y,renderOption:function(e,n,t){t.selected;return(0,v.jsxs)("li",(0,f.Z)((0,f.Z)({},e),{},{style:{paddingTop:0,paddingBottom:0},children:[null===n||void 0===n?void 0:n.source," - ",null===n||void 0===n?void 0:n.description," ",null!==n&&void 0!==n&&n.available_from_date?"(".concat(null===n||void 0===n?void 0:n.available_from_date,"~)"):null]}))},renderInput:function(e){return(0,v.jsx)(u.Z,(0,f.Z)((0,f.Z)({},e),{},{label:"Source",placeholder:"Source"}))}})},_=function(e,n){return""===n||e===n},C=function(e){var n=e.onChange,t=(0,d.v9)((0,h.oZ)(h.tO));return(0,v.jsx)(Z.Z,{onChange:n,size:"small",value:t,isOptionEqualToValue:_,options:["xml","csv","tsv"],getOptionLabel:function(e){return e||""},renderOption:function(e,n,t){t.selected;return(0,v.jsx)("li",(0,f.Z)((0,f.Z)({},e),{},{style:{paddingTop:0,paddingBottom:0},children:n}))},style:{width:"100%"},renderInput:function(e){return(0,v.jsx)(u.Z,(0,f.Z)((0,f.Z)({},e),{},{label:"Format",placeholder:"Format"}))}})},O=(0,g.D)({matchFrom:"any",stringify:function(e){return"".concat(null===e||void 0===e?void 0:e.code," ").concat(null===e||void 0===e?void 0:e.description)}}),k=function(e,n){return""===n||(null===e||void 0===e?void 0:e.code)===(null===n||void 0===n?void 0:n.code)},P=function(e){var n=e.options,t=e.label,o=e.onChange,i=(0,d.v9)((0,h.oZ)(h.tH));return(0,v.jsx)(Z.Z,{onChange:o,autoHighlight:!0,size:"small",options:Object.values(n.symbols),value:i,isOptionEqualToValue:k,getOptionLabel:function(e){return(null===e||void 0===e?void 0:e.code)||""},filterOptions:O,renderOption:function(e,n,t){t.selected;return(0,v.jsxs)("li",(0,f.Z)((0,f.Z)({},e),{},{style:{paddingTop:0,paddingBottom:0},children:[n.code," - ",n.description]}))},style:{width:"100%"},renderInput:function(e){return(0,v.jsx)(u.Z,(0,f.Z)((0,f.Z)({},e),{},{label:t,placeholder:t}))}})},S=t(9174),L=t(7907),I=t(8937),B=(0,v.jsx)(I.Z,{fontSize:"small"}),E=(0,v.jsx)(L.Z,{fontSize:"small"}),z=(0,g.D)({matchFrom:"any",stringify:function(e){return"".concat(null===e||void 0===e?void 0:e.code," ").concat(null===e||void 0===e?void 0:e.description)}}),F=function(e,n){return null===n||(null===e||void 0===e?void 0:e.code)===(null===n||void 0===n?void 0:n.code)},H=function(e){var n=e.options,t=e.label,o=e.onChange,i=(0,d.v9)((0,h.oZ)(h.t$));return(0,v.jsx)(Z.Z,{multiple:!0,autoHighlight:!0,onChange:o,size:"small",options:Object.values(n.symbols),value:i,isOptionEqualToValue:F,disableCloseOnSelect:!0,getOptionLabel:function(e){return(null===e||void 0===e?void 0:e.code)||""},filterOptions:z,renderOption:function(e,n,t){var o=t.selected;return(0,v.jsxs)("li",(0,f.Z)((0,f.Z)({},e),{},{style:{paddingTop:0,paddingBottom:0},children:[(0,v.jsx)(S.Z,{icon:B,checkedIcon:E,style:{marginRight:8,paddingTop:0,paddingBottom:0},checked:o}),null===n||void 0===n?void 0:n.code," - ",null===n||void 0===n?void 0:n.description]}))},style:{width:"100%"},renderInput:function(e){return(0,v.jsx)(u.Z,(0,f.Z)((0,f.Z)({},e),{},{label:t,placeholder:t}))}})},T=t(5130),q=t(3400),R=function(e){var n=e.label,t=e.type,o=e.onClear,i=e.onChange,a=(0,d.v9)((0,h.oZ)(t));return(0,v.jsx)(u.Z,{label:n,variant:"outlined",size:"small",value:a,onChange:i,sx:{width:"100%"},InputProps:{endAdornment:(0,v.jsx)(q.Z,{sx:{visibility:a?"visible":"hidden"},onClick:o,children:(0,v.jsx)(T.Z,{})})}})},D=t(7537),U=t(6151),V=function(){var e=(0,d.I0)(),n=function(n,t){e((0,h.QA)(n,t))},t=(0,d.v9)((0,h.oZ)(h.dB)),o=(0,d.v9)((0,h.oZ)(h.I7)),i=(0,d.v9)((0,h.oZ)(h.tO)),a=(0,d.v9)((0,h.oZ)(h.tH)),r=(0,d.v9)((0,h.oZ)(h.Hx)),s=(0,d.v9)((0,h.oZ)(h.t$)),l=(0,d.v9)((0,h.oZ)(h.wL)),c=(0,d.v9)((0,h.oZ)(h.IS));return(0,v.jsx)(U.Z,{variant:"contained",onClick:function(){n(h.FU,[]),n(h.gi,""),n(h.E8,"");var e={start_date:t||"",end_date:o||"",base:(null===a||void 0===a?void 0:a.code)||"",symbols:s?s.map((function(e){return e.code})).join(","):"",amount:l||"",places:c||"",format:i||"",source:(null===r||void 0===r?void 0:r.source)||""},u="https://api.exchangerate.host/timeseries",d=i||"json",v="".concat(u,"?").concat(new URLSearchParams(e).toString());n(h.E8,u),n(h.wp,(0,f.Z)((0,f.Z)({},e),{},{format:""})),n(h.FU,[v]),"json"===d?fetch(v).then((function(e){return e.json()})).then((function(e){n(h.gi,JSON.stringify(e,null,2))})):fetch(v).then((function(e){return e.text()})).then((function(e){n(h.gi,e)}))},size:"small",children:"Get Data"})},A=function(){var e=(0,d.v9)((0,h.oZ)(h.gi));return(0,v.jsx)(u.Z,{label:"Rate",focused:!0,multiline:!0,rows:15,sx:{width:"100%"},value:e,inputProps:{wrap:"off"}})},$=function(){var e=(0,d.v9)((0,h.oZ)(h.FU));return null===e||void 0===e?void 0:e.map((function(e){return(0,v.jsx)(r.ZP,{item:!0,xs:12,children:(0,v.jsx)(l.Z,{href:e,target:"_blank",download:!0,style:{wordBreak:"break-all"},children:e})},e)}))},Q=t(9439),G=t(7762),J=t(4108),K=t(8286),M=t(1243),N=function(e){if(void 0===e)return[];var n=e.rates;if(void 0===n)return[];var t=Object.keys(n),o={},i={};if((null===t||void 0===t?void 0:t.length)>0){var a,r=(0,G.Z)(t);try{for(r.s();!(a=r.n()).done;){var s=a.value,l=n[s];for(var c in n[s]){var u=l[c];c in o||(o[c]=[],i[c]=[]),o[c].push(s),i[c].push(u)}}}catch(v){r.e(v)}finally{r.f()}var d=Object.keys(o),h=d.map((function(e){return{x:Object.values(o[e]),y:Object.values(i[e]),type:"scatter",name:e,visible:e===d[0]||"legendonly"}}));return h}return[]},W=function(){var e=(0,d.I0)(),n=(0,d.v9)((0,h.oZ)(h.wp)),t=(0,o.useState)([]),i=(0,Q.Z)(t,2),a=i[0],r=i[1],s=function(e){if(null==e)return[];for(var n=e.start_date,t=e.end_date,o=+n.slice(0,4),i=+t.slice(0,4),a=[],r=o;r<=i;r++){var s="".concat(r,"-01-01"),l="".concat(r,"-12-31");r===o&&(s=n),r===i&&(l=t);var c=(0,f.Z)((0,f.Z)({},e),{},{start_date:s,end_date:l}),u="".concat("https://api.exchangerate.host/timeseries","?").concat(new URLSearchParams(c).toString());a.push(u)}return a}(n),l=(0,J.a)({queryKey:["query"],queryFn:function(){return M.Z.all(s.map((function(e){return M.Z.get(e)})))},refetchOnWindowFocus:!1,suspense:!0,enable:!1}),c=l.data,u=l.refetch;(0,o.useEffect)((function(){u()}),[u,n]),(0,o.useEffect)((function(){var e=function(e){var n=e.map((function(e){return e.data}));return n.slice(1).reduce((function(e,n){return{base:e.base,motd:e.motd,success:e.success,timeseries:e.timeseries,start_date:e.start_date<=n.start_date?e.start_date:n.start_date,end_date:e.end_date<=n.end_date?n.end_date:e.end_date,rates:(0,f.Z)((0,f.Z)({},e.rates),n.rates)}}),n[0])}(c);N(),r(e)}),[c,e]);return(0,v.jsx)(o.Suspense,{fallback:(0,v.jsx)("div",{children:"Loading ...6"}),children:(0,v.jsx)(K.Z,{data:N(a),useResizeHandler:!0,layout:{showlegend:!0,autosize:!0,dragmode:"pan",xaxis:{type:"date",tickformat:"%Y-%m-%d",tickangle:-45},title:"Exchange Rate - Base: ".concat((null===a||void 0===a?void 0:a.base)||"")},config:{displayModeBar:!0,displaylogo:!1},style:{width:"100%",height:"100%"},onRelayout:function(e){}})})},Y=a("https://api.exchangerate.host/symbols"),X=function(){var e=(0,d.I0)(),n=function(n,t){e((0,h.QA)(n,t))},t=Y.read();return(0,o.useEffect)((function(){e((0,D.V7)(D.q,"Exchange Rate"))}),[e]),(0,v.jsx)("div",{style:{padding:0},children:(0,v.jsxs)(r.ZP,{container:!0,spacing:1,children:[(0,v.jsx)(r.ZP,{item:!0,xs:"auto",style:{width:"36%"},children:(0,v.jsx)(p,{label:"Start Date",type:h.dB,onChange:function(e){var t=e.target.value;n(h.dB,t)}})}),(0,v.jsx)(r.ZP,{item:!0,xs:"auto",style:{width:"36%"},children:(0,v.jsx)(p,{label:"End Date",type:h.I7,onChange:function(e){var t=e.target.value;n(h.I7,t)}})}),(0,v.jsx)(r.ZP,{item:!0,xs:"auto",style:{width:"28%"},children:(0,v.jsx)(C,{onChange:function(e,t){n(h.tO,t)}})}),(0,v.jsx)(r.ZP,{item:!0,xs:"auto",style:{width:"50%"},children:(0,v.jsx)(o.Suspense,{fallback:(0,v.jsx)("div",{children:"Loading ...4"}),children:(0,v.jsx)(P,{label:"Base",options:t,onChange:function(e,t){n(h.tH,t)}})})}),(0,v.jsx)(r.ZP,{item:!0,xs:"auto",style:{width:"50%"},children:(0,v.jsx)(o.Suspense,{fallback:(0,v.jsx)("div",{children:"Loading ...5"}),children:(0,v.jsx)(H,{label:"Symbols",options:t,multiple:!0,onChange:function(e,t){n(h.t$,t)}})})}),(0,v.jsx)(r.ZP,{item:!0,xs:"auto",style:{width:"50%"},children:(0,v.jsx)(R,{label:"Amount",type:h.wL,onClear:function(e){n(h.wL,"")},onChange:function(e){var t=e.target.value;n(h.wL,t)}})}),(0,v.jsx)(r.ZP,{item:!0,xs:"auto",style:{width:"50%"},children:(0,v.jsx)(R,{label:"Place",type:h.IS,onClear:function(e){n(h.IS,"")},onChange:function(e){var t=e.target.value;n(h.IS,t)}})}),(0,v.jsx)(r.ZP,{item:!0,xs:12,children:(0,v.jsx)(o.Suspense,{fallback:(0,v.jsx)("div",{children:"Loading ...6"}),children:(0,v.jsx)(w,{onChange:function(e,t){n(h.Hx,t)}})})}),(0,v.jsx)(r.ZP,{item:!0,xs:12,children:(0,v.jsx)(s.Z,{sx:{display:"flex"},children:(0,v.jsx)(V,{})})}),(0,v.jsx)(r.ZP,{item:!0,xs:12,children:(0,v.jsx)(o.Suspense,{fallback:(0,v.jsx)("div",{children:"Loading ...7"}),children:(0,v.jsx)(W,{style:{width:"100%"}})})}),(0,v.jsx)(r.ZP,{item:!0,xs:12,children:(0,v.jsx)(A,{})}),(0,v.jsx)($,{}),(0,v.jsx)(r.ZP,{item:!0,xs:12,children:(0,v.jsx)(c.Z,{})}),(0,v.jsx)(r.ZP,{item:!0,xs:12,children:(0,v.jsx)(l.Z,{href:"https://exchangerate.host/#/docs",target:"_blank",children:"https://exchangerate.host/#/docs"})}),(0,v.jsx)(r.ZP,{item:!0,xs:12,children:(0,v.jsx)(l.Z,{href:"https://api.exchangerate.host/symbols",target:"_blank",children:"https://api.exchangerate.host/symbols"})}),(0,v.jsx)(r.ZP,{item:!0,xs:12,children:(0,v.jsx)(l.Z,{href:"https://api.exchangerate.host/sources",target:"_blank",children:"https://api.exchangerate.host/sources"})}),(0,v.jsx)(r.ZP,{item:!0,xs:12,children:(0,v.jsx)(l.Z,{href:"https://api.exchangerate.host/cryptocurrencies",target:"_blank",children:"https://api.exchangerate.host/cryptocurrencies"})})]})})}}}]);
//# sourceMappingURL=933.04493818.chunk.js.map